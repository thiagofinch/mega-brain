/**
 * Mega Brain - Setup Wizard
 * First-time configuration guide for Claude Code /setup command
 * This module is referenced by the /setup slash command but executes within Claude Code context
 */

export const SETUP_STEPS = {
  1: {
    name: 'Verificar Python',
    command: 'python --version || python3 --version',
    required: true,
    minVersion: '3.10',
    instructions: 'Python 3.10+ necessário. Instale em https://python.org',
  },
  2: {
    name: 'Verificar Node.js',
    command: 'node --version',
    required: true,
    minVersion: '18',
    instructions: 'Node.js 18+ necessário. Instale em https://nodejs.org',
  },
  3: {
    name: 'Instalar Dependências Python',
    command: 'pip install -r requirements.txt',
    required: false,
    fallback: 'pip install --user -r requirements.txt',
  },
  4: {
    name: 'Configurar API Keys',
    keys: [
      {
        name: 'OPENAI_API_KEY',
        required: true,
        description: 'A API da OpenAI fornece o Whisper para transcrição de vídeos do YouTube e áudios. Essencial para o /ingest funcionar com vídeos.',
        url: 'https://platform.openai.com/api-keys',
        prefix: 'sk-',
      },
      {
        name: 'VOYAGE_API_KEY',
        required: false,
        description: 'Voyage AI fornece busca semântica avançada no knowledge base. Permite que o Conclave e agentes encontrem evidências nos materiais inseridos.',
        url: 'https://dash.voyageai.com/api-keys',
      },
      {
        name: 'ANTHROPIC_API_KEY',
        required: false,
        description: 'Não necessária se você usa Claude Code via assinatura Max ou Pro (acesso ao Claude já incluído). Apenas para scripts autônomos fora do Claude Code.',
        url: 'https://console.anthropic.com/settings/keys',
        prefix: 'sk-ant-',
      },
      {
        name: 'GOOGLE_CLIENT_ID',
        required: false,
        description: 'Para importar conteúdos diretamente do Google Drive (PDFs, documentos, planilhas).',
        url: 'https://console.cloud.google.com/apis/credentials',
        companion: 'GOOGLE_CLIENT_SECRET',
      },
    ],
  },
  5: {
    name: 'Validar Configuração',
    description: 'Testa conexões com os serviços configurados.',
  },
  6: {
    name: 'Gerar .env',
    description: 'Salva configuração final no arquivo .env',
  },
};

export const ENV_TEMPLATE = `# Mega Brain - Configuration
# Generated by /setup wizard

# === REQUIRED ===
# OpenAI API (Whisper) - Transcrição de vídeos e áudios
# Essencial para /ingest com vídeos do YouTube
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# === RECOMMENDED ===
# Voyage AI - Busca semântica avançada no knowledge base
# Permite que Conclave e agentes encontrem evidências nos materiais
# Obtenha em: https://dash.voyageai.com/api-keys
VOYAGE_API_KEY=

# === OPTIONAL ===
# Anthropic API (Claude) - Não necessária com Claude Code Max/Pro
# Apenas para scripts autônomos fora do Claude Code
# Obtenha em: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=

# Google Drive Import - Importar conteúdos do Google Drive
# Configure em: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
`;
